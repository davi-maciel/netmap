{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/app/page.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"container\": \"page-module___8aEwW__container\",\n  \"mapContainer\": \"page-module___8aEwW__mapContainer\",\n  \"marker\": \"page-module___8aEwW__marker\",\n  \"markerDimmed\": \"page-module___8aEwW__markerDimmed\",\n  \"markerHighlighted\": \"page-module___8aEwW__markerHighlighted\",\n  \"searchBarOverlay\": \"page-module___8aEwW__searchBarOverlay\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file:///Users/davimaciel/Desktop/Senior%20Year/Fall%2025/cs396/final_project/project-20252601-netmap/src/data/mockData.js"],"sourcesContent":["/**\n * Mock data for network map\n * This simulates what will eventually come from Supabase\n *\n * Database schema:\n * - people: id, first_name, last_name, profile_picture, bio\n * - locations: id, person_id, label, latitude, longitude\n */\n\n// People table mock data\nexport const people = [\n  {\n    id: 1,\n    first_name: \"Lucas\",\n    last_name: \"Silva\",\n    profile_picture: \"https://i.pravatar.cc/200?img=12\",\n    bio: \"Software engineer passionate about web development and open source\",\n  },\n  {\n    id: 2,\n    first_name: \"Kaio\",\n    last_name: \"Santos\",\n    profile_picture: \"https://i.pravatar.cc/200?img=33\",\n    bio: \"Data scientist exploring machine learning and AI applications\",\n  },\n  {\n    id: 3,\n    first_name: \"Maya\",\n    last_name: \"Patel\",\n    profile_picture: \"https://i.pravatar.cc/200?img=45\",\n    bio: \"Electrical engineer working on hardware-software integration\",\n  },\n  {\n    id: 4,\n    first_name: \"James\",\n    last_name: \"Chen\",\n    profile_picture: \"https://i.pravatar.cc/200?img=68\",\n    bio: \"AI researcher focused on natural language processing\",\n  },\n  {\n    id: 5,\n    first_name: \"Sofia\",\n    last_name: \"Rodriguez\",\n    profile_picture: \"https://i.pravatar.cc/200?img=47\",\n    bio: \"Entrepreneur building sustainable tech solutions\",\n  },\n  {\n    id: 6,\n    first_name: \"Ahmed\",\n    last_name: \"Hassan\",\n    profile_picture: \"https://i.pravatar.cc/200?img=59\",\n    bio: \"Mechanical engineer developing renewable energy systems\",\n  },\n  {\n    id: 7,\n    first_name: \"Emma\",\n    last_name: \"Johnson\",\n    profile_picture: \"https://i.pravatar.cc/200?img=25\",\n    bio: \"UX designer creating accessible and inclusive products\",\n  },\n  {\n    id: 8,\n    first_name: \"Yuki\",\n    last_name: \"Tanaka\",\n    profile_picture: \"https://i.pravatar.cc/200?img=52\",\n    bio: \"Robotics engineer building autonomous systems\",\n  },\n  {\n    id: 9,\n    first_name: \"Pedro\",\n    last_name: \"Madureira\",\n    profile_picture: \"https://i.pravatar.cc/200?img=22\",\n    bio: \"Improv + chemistry\",\n  },\n  {\n    id: 10,\n    first_name: \"Helio\",\n    last_name: \"Nitrogen\",\n    profile_picture: \"https://i.pravatar.cc/200?img=24\",\n    bio: \"coffee addict, ironman, cs teacher\",\n  },\n];\n\n// Locations table mock data\nexport const locations = [\n  // Lucas's locations\n  {\n    id: 1,\n    person_id: 1,\n    label: \"Northwestern University\",\n    latitude: 42.050703,\n    longitude: -87.678376,\n  },\n  {\n    id: 2,\n    person_id: 1,\n    label: \"S√£o Paulo, Brazil\",\n    latitude: -23.579313,\n    longitude: -46.639187,\n  },\n  // Kaio's locations\n  {\n    id: 3,\n    person_id: 2,\n    label: \"Northwestern University\",\n    latitude: 42.050703,\n    longitude: -87.678376,\n  },\n  {\n    id: 4,\n    person_id: 2,\n    label: \"Belo Horizonte, Brazil\",\n    latitude: -19.927092,\n    longitude: -43.953965,\n  },\n  // Maya's locations\n  {\n    id: 5,\n    person_id: 3,\n    label: \"Stanford University\",\n    latitude: 37.429464,\n    longitude: -122.169719,\n  },\n  {\n    id: 6,\n    person_id: 3,\n    label: \"Mumbai, India\",\n    latitude: 19.075983,\n    longitude: 72.877426,\n  },\n  {\n    id: 7,\n    person_id: 3,\n    label: \"Mountain View, CA\",\n    latitude: 37.422,\n    longitude: -122.084,\n  },\n  // James's locations\n  {\n    id: 8,\n    person_id: 4,\n    label: \"MIT\",\n    latitude: 42.360253,\n    longitude: -71.092003,\n  },\n  {\n    id: 9,\n    person_id: 4,\n    label: \"Hong Kong\",\n    latitude: 22.396428,\n    longitude: 114.109497,\n  },\n  // Sofia's locations\n  {\n    id: 10,\n    person_id: 5,\n    label: \"UC Berkeley\",\n    latitude: 37.871899,\n    longitude: -122.258515,\n  },\n  {\n    id: 11,\n    person_id: 5,\n    label: \"Mexico City, Mexico\",\n    latitude: 19.432608,\n    longitude: -99.133209,\n  },\n  // Ahmed's locations\n  {\n    id: 12,\n    person_id: 6,\n    label: \"Northwestern University\",\n    latitude: 42.050703,\n    longitude: -87.678376,\n  },\n  {\n    id: 13,\n    person_id: 6,\n    label: \"Cairo, Egypt\",\n    latitude: 30.04442,\n    longitude: 31.235712,\n  },\n  // Emma's locations\n  {\n    id: 14,\n    person_id: 7,\n    label: \"Stanford University\",\n    latitude: 37.429464,\n    longitude: -122.169719,\n  },\n  {\n    id: 15,\n    person_id: 7,\n    label: \"London, UK\",\n    latitude: 51.507351,\n    longitude: -0.127758,\n  },\n  // Yuki's locations\n  {\n    id: 16,\n    person_id: 8,\n    label: \"MIT\",\n    latitude: 42.360253,\n    longitude: -71.092003,\n  },\n  {\n    id: 17,\n    person_id: 8,\n    label: \"Tokyo, Japan\",\n    latitude: 35.689487,\n    longitude: 139.691706,\n  },\n  {\n    id: 18,\n    person_id: 8,\n    label: \"MIT Research Lab\",\n    latitude: 42.361145,\n    longitude: -71.089264,\n  },\n  {\n    id: 19,\n    person_id: 9,\n    label: \"Ari de S√° Cavalcante\",\n    latitude: -3.745609541860808,\n    longitude: -38.49246048706968,\n  },\n  {\n    id: 20,\n    person_id: 10,\n    label: \"Home\",\n    latitude: 31.2555372007631,\n    longitude: 121.44630961706912,\n  },\n];\n\n/**\n * Helper function to join people with their locations\n * Simulates a SQL JOIN or Supabase query with relations\n */\nexport const getPeopleWithLocations = () => {\n  return people.map((person) => ({\n    ...person,\n    locations: locations.filter((loc) => loc.person_id === person.id),\n  }));\n};\n\n/**\n * Helper function to get a person by ID with their locations\n */\nexport const getPersonById = (personId) => {\n  const person = people.find((p) => p.id === personId);\n  if (!person) return null;\n\n  return {\n    ...person,\n    locations: locations.filter((loc) => loc.person_id === personId),\n  };\n};\n\n/**\n * Helper function to get all locations with person info\n * Useful for rendering markers with person details\n */\nexport const getLocationsWithPeople = () => {\n  return locations.map((location) => {\n    const person = people.find((p) => p.id === location.person_id);\n    return {\n      ...location,\n      person,\n    };\n  });\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 287, "column": 0}, "map": {"version":3,"sources":["file:///Users/davimaciel/Desktop/Senior%20Year/Fall%2025/cs396/final_project/project-20252601-netmap/src/app/SearchBar.jsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState } from \"react\";\n\nconst SearchBar = ({ people, onSelectPerson }) => {\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [showResults, setShowResults] = useState(false);\n\n  // Filter people based on search query\n  const filteredPeople = searchQuery.trim()\n    ? people.filter((person) => {\n        const fullName = `${person.first_name} ${person.last_name}`.toLowerCase();\n        return fullName.includes(searchQuery.toLowerCase());\n      })\n    : [];\n\n  const handleInputChange = (e) => {\n    setSearchQuery(e.target.value);\n    setShowResults(true);\n  };\n\n  const handleSelectPerson = (person) => {\n    setSearchQuery(`${person.first_name} ${person.last_name}`);\n    setShowResults(false);\n    if (onSelectPerson) {\n      onSelectPerson(person);\n    }\n  };\n\n  const handleClearSearch = () => {\n    setSearchQuery(\"\");\n    setShowResults(false);\n    if (onSelectPerson) {\n      onSelectPerson(null);\n    }\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (filteredPeople.length > 0) {\n      handleSelectPerson(filteredPeople[0]);\n    }\n  };\n\n  return (\n    <div>\n      <form className=\"max-w-md mx-auto\" onSubmit={handleSubmit}>\n        <label\n          htmlFor=\"default-search\"\n          className=\"mb-2 text-sm font-medium text-gray-900 sr-only dark:text-white\"\n        >\n          Search\n        </label>\n        <div className=\"relative\">\n          <div className=\"absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none\">\n            <svg\n              className=\"w-4 h-4 text-gray-500 dark:text-gray-400\"\n              aria-hidden=\"true\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              fill=\"none\"\n              viewBox=\"0 0 20 20\"\n            >\n              <path\n                stroke=\"currentColor\"\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth=\"2\"\n                d=\"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z\"\n              />\n            </svg>\n          </div>\n          <input\n            type=\"search\"\n            id=\"default-search\"\n            className=\"block w-full p-4 ps-10 pr-24 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\"\n            placeholder=\"Search for people...\"\n            value={searchQuery}\n            onChange={handleInputChange}\n            onFocus={() => setShowResults(true)}\n            onBlur={() => setTimeout(() => setShowResults(false), 200)}\n          />\n          {searchQuery && (\n            <button\n              type=\"button\"\n              onClick={handleClearSearch}\n              className=\"text-gray-500 absolute end-24 bottom-2.5 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 font-medium rounded-lg text-sm px-2 py-2\"\n            >\n              ‚úï\n            </button>\n          )}\n          <button\n            type=\"submit\"\n            className=\"text-white absolute end-2.5 bottom-2.5 bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800\"\n          >\n            Search\n          </button>\n        </div>\n\n        {/* Search Results Dropdown */}\n        {showResults && filteredPeople.length > 0 && (\n          <div className=\"absolute z-10 mt-2 w-full bg-white border border-gray-300 rounded-lg shadow-lg dark:bg-gray-800 dark:border-gray-600 max-h-96 overflow-y-auto\">\n            {filteredPeople.map((person) => (\n              <div\n                key={person.id}\n                className=\"flex items-center gap-3 p-3 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer border-b border-gray-200 dark:border-gray-700 last:border-b-0\"\n                onClick={() => handleSelectPerson(person)}\n              >\n                <img\n                  src={person.profile_picture}\n                  alt={`${person.first_name} ${person.last_name}`}\n                  className=\"w-10 h-10 rounded-full object-cover\"\n                />\n                <div>\n                  <div className=\"font-medium text-gray-900 dark:text-white\">\n                    {person.first_name} {person.last_name}\n                  </div>\n                  <div className=\"text-sm text-gray-500 dark:text-gray-400 truncate\">\n                    {person.bio}\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </form>\n    </div>\n  );\n};\n\nexport default SearchBar;\n"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AAIA,MAAM,YAAY;QAAC,EAAE,MAAM,EAAE,cAAc,EAAE;;IAC3C,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAC/C,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAE/C,sCAAsC;IACtC,MAAM,iBAAiB,YAAY,IAAI,KACnC,OAAO,MAAM,CAAC,CAAC;QACb,MAAM,WAAW,AAAC,GAAuB,OAArB,OAAO,UAAU,EAAC,KAAoB,OAAjB,OAAO,SAAS,EAAG,WAAW;QACvE,OAAO,SAAS,QAAQ,CAAC,YAAY,WAAW;IAClD,KACA,EAAE;IAEN,MAAM,oBAAoB,CAAC;QACzB,eAAe,EAAE,MAAM,CAAC,KAAK;QAC7B,eAAe;IACjB;IAEA,MAAM,qBAAqB,CAAC;QAC1B,eAAe,AAAC,GAAuB,OAArB,OAAO,UAAU,EAAC,KAAoB,OAAjB,OAAO,SAAS;QACvD,eAAe;QACf,IAAI,gBAAgB;YAClB,eAAe;QACjB;IACF;IAEA,MAAM,oBAAoB;QACxB,eAAe;QACf,eAAe;QACf,IAAI,gBAAgB;YAClB,eAAe;QACjB;IACF;IAEA,MAAM,eAAe,CAAC;QACpB,EAAE,cAAc;QAChB,IAAI,eAAe,MAAM,GAAG,GAAG;YAC7B,mBAAmB,cAAc,CAAC,EAAE;QACtC;IACF;IAEA,qBACE,6LAAC;kBACC,cAAA,6LAAC;YAAK,WAAU;YAAmB,UAAU;;8BAC3C,6LAAC;oBACC,SAAQ;oBACR,WAAU;8BACX;;;;;;8BAGD,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCACC,WAAU;gCACV,eAAY;gCACZ,OAAM;gCACN,MAAK;gCACL,SAAQ;0CAER,cAAA,6LAAC;oCACC,QAAO;oCACP,eAAc;oCACd,gBAAe;oCACf,aAAY;oCACZ,GAAE;;;;;;;;;;;;;;;;sCAIR,6LAAC;4BACC,MAAK;4BACL,IAAG;4BACH,WAAU;4BACV,aAAY;4BACZ,OAAO;4BACP,UAAU;4BACV,SAAS,IAAM,eAAe;4BAC9B,QAAQ,IAAM,WAAW,IAAM,eAAe,QAAQ;;;;;;wBAEvD,6BACC,6LAAC;4BACC,MAAK;4BACL,SAAS;4BACT,WAAU;sCACX;;;;;;sCAIH,6LAAC;4BACC,MAAK;4BACL,WAAU;sCACX;;;;;;;;;;;;gBAMF,eAAe,eAAe,MAAM,GAAG,mBACtC,6LAAC;oBAAI,WAAU;8BACZ,eAAe,GAAG,CAAC,CAAC,uBACnB,6LAAC;4BAEC,WAAU;4BACV,SAAS,IAAM,mBAAmB;;8CAElC,6LAAC;oCACC,KAAK,OAAO,eAAe;oCAC3B,KAAK,AAAC,GAAuB,OAArB,OAAO,UAAU,EAAC,KAAoB,OAAjB,OAAO,SAAS;oCAC7C,WAAU;;;;;;8CAEZ,6LAAC;;sDACC,6LAAC;4CAAI,WAAU;;gDACZ,OAAO,UAAU;gDAAC;gDAAE,OAAO,SAAS;;;;;;;sDAEvC,6LAAC;4CAAI,WAAU;sDACZ,OAAO,GAAG;;;;;;;;;;;;;2BAdV,OAAO,EAAE;;;;;;;;;;;;;;;;;;;;;AAwB9B;GA3HM;KAAA;uCA6HS","debugId":null}},
    {"offset": {"line": 494, "column": 0}, "map": {"version":3,"sources":["file:///Users/davimaciel/Desktop/Senior%20Year/Fall%2025/cs396/final_project/project-20252601-netmap/src/app/page.js"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useRef, useState } from \"react\";\nimport maplibregl, { Marker } from \"maplibre-gl\";\nimport \"maplibre-gl/dist/maplibre-gl.css\";\nimport styles from \"./page.module.css\";\nimport { getLocationsWithPeople, people } from \"@/data/mockData\";\nimport SearchBar from \"./SearchBar\";\n\nexport default function Home() {\n  const mapContainerRef = useRef(null);\n  const mapRef = useRef(null);\n  const markersRef = useRef({});\n  const markerElementsRef = useRef({});\n  const [selectedPerson, setSelectedPerson] = useState(null);\n  const locationsWithPeople = getLocationsWithPeople();\n\n  useEffect(() => {\n    if (!mapContainerRef.current) return;\n\n    const map = new maplibregl.Map({\n      container: mapContainerRef.current,\n      style: \"https://demotiles.maplibre.org/style.json\",\n      center: [0, 20],\n      zoom: 2,\n      attributionControl: false, // Remove attribution control\n    });\n\n    mapRef.current = map;\n\n    // Add navigation controls on the right side instead\n    map.addControl(new maplibregl.NavigationControl(), 'top-right');\n\n    // Clear selection when clicking on the map\n    map.on('click', () => {\n      setSelectedPerson(null);\n    });\n\n    // Add markers for each location\n    locationsWithPeople.forEach((location) => {\n      const { person } = location;\n      const lngLat = [location.longitude, location.latitude];\n\n      // Create custom marker element\n      const el = document.createElement(\"div\");\n      el.className = styles.marker;\n      el.style.backgroundImage = `url(${person.profile_picture})`;\n      el.style.width = \"70px\";\n      el.style.height = \"70px\";\n      el.dataset.personId = person.id;\n\n      // Create popup with person info\n      const popup = new maplibregl.Popup({ offset: 25 }).setHTML(`\n        <div style=\"padding: 10px; min-width: 200px;\">\n          <h3 style=\"margin: 0 0 8px 0; font-size: 16px; font-weight: 600;\">\n            ${person.first_name} ${person.last_name}\n          </h3>\n          <p style=\"margin: 0 0 8px 0; font-size: 14px; color: #666;\">\n            üìç ${location.label}\n          </p>\n          <p style=\"margin: 0; font-size: 13px; color: #888; line-height: 1.4;\">\n            ${person.bio}\n          </p>\n        </div>\n      `);\n\n      // Add marker to map with popup\n      const marker = new Marker({ element: el }).setLngLat(lngLat).setPopup(popup).addTo(map);\n\n      // Store marker and element references by person and location\n      const key = `${person.id}-${location.id}`;\n      markersRef.current[key] = marker;\n      markerElementsRef.current[key] = el;\n    });\n\n    return () => {\n      map.remove();\n    };\n  }, []);\n\n  // Handle person selection from search\n  useEffect(() => {\n    // Reset all markers to default state\n    Object.values(markerElementsRef.current).forEach((el) => {\n      el.classList.remove(styles.markerHighlighted);\n      el.classList.remove(styles.markerDimmed);\n    });\n\n    if (!selectedPerson || !mapRef.current) return;\n\n    // Find all locations for the selected person\n    const personLocations = locationsWithPeople.filter(\n      (loc) => loc.person.id === selectedPerson.id\n    );\n\n    if (personLocations.length === 0) return;\n\n    // Highlight selected person's markers and dim others\n    Object.entries(markerElementsRef.current).forEach(([key, el]) => {\n      const personId = parseInt(el.dataset.personId);\n      if (personId === selectedPerson.id) {\n        el.classList.add(styles.markerHighlighted);\n      } else {\n        el.classList.add(styles.markerDimmed);\n      }\n    });\n\n    // If person has only one location, fly to it\n    if (personLocations.length === 1) {\n      const location = personLocations[0];\n      mapRef.current.flyTo({\n        center: [location.longitude, location.latitude],\n        zoom: 12,\n        duration: 2000,\n      });\n\n      // Open the popup for this marker\n      const key = `${selectedPerson.id}-${location.id}`;\n      const marker = markersRef.current[key];\n      if (marker) {\n        marker.togglePopup();\n      }\n    } else {\n      // If person has multiple locations, fit bounds to show all\n      const bounds = new maplibregl.LngLatBounds();\n      personLocations.forEach((loc) => {\n        bounds.extend([loc.longitude, loc.latitude]);\n      });\n\n      mapRef.current.fitBounds(bounds, {\n        padding: 100,\n        duration: 2000,\n      });\n    }\n  }, [selectedPerson]);\n\n  return (\n    <div className={styles.container}>\n      <div ref={mapContainerRef} className={styles.mapContainer} />\n      <div className={styles.searchBarOverlay}>\n        <SearchBar people={people} onSelectPerson={setSelectedPerson} />\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}